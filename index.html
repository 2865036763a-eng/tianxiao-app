<!DOCTYPE html>
<html><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="å¤©ç¬‘ç§˜å¯†åŸºåœ°">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#ff6699">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIuWkqeesuOOBrue6geWvhuWfuuWcsyIsCiAgInNob3J0X25hbWUiOiAi5aSp56yY5Z+65ZywIiwKICAic3RhcnRfdXJsIjogIi4vIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZmZmZmZmIiwKICAidGhlbWVfY29sb3IiOiAiI2ZmNjY5OSIsCiAgImRlc2NyaXB0aW9uIjogIuWkqeesuOOBrue6geWvhuWfuuWcsyAtIOa4uOaIj+S4k+WxnuWIhuS6q+W5s+WPsCIsCiAgIm9yaWVudGF0aW9uIjogInBvcnRyYWl0IiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TWpnaUlHaGxhV2RvZEQwaU1USTRJajQ4Y21WamRDQjNhV1IwYUQwaU1USTRJaUJvWldsbmFIUTlJakV5T0NJZ2NuZzlJakl3SWlCbWFXeHNQU0lqWm1ZMk5qazVJaTgrUEM5eVpXTjBQangwWlhoMElIZzlJall5SWlCNVBTSTJOQ0lnWm05dWRDMXphWHBsUFNJME1DSWdabWxzYkQwaUkyWm1abVptWmlJK/CfjIY8TDNSbGVIUStQQzl6ZG1jKyIsCiAgICAgICJzaXplcyI6ICIxMjh4MTI4IiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIsCiAgICAgICJwdXJwb3NlIjogImFueSBtYXNrYWJsZSIKICAgIH0KICBdCn0=">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cmVjdCB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgcng9IjIwIiBmaWxsPSIjZmY2Njk5Ii8+PHRleHQgeD0iNjQiIHk9IjcwIiBmb250LXNpemU9IjUwIiBmaWxsPSIjZmZmZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0ibWlkZGxlIj7wn4yGPC90ZXh0Pjwvc3ZnPg==">
    <title>å¤©ç¬‘ã®ç§˜å¯†åŸºåœ°</title>
    <style>
        :root { --primary: #ff6699; --bg: #f4f5f7; --card: #ffffff; --text: #222; --border: #e3e8ec; --video: #fb7299; --notice: #ff9800; }
        html, body { height: 100%; margin: 0; padding: 0; overscroll-behavior: none; overscroll-behavior-y: none; }
        body { background: var(--bg); color: var(--text); font-family: -apple-system, system-ui, sans-serif; display: flex; flex-direction: column; overflow: hidden; overscroll-behavior: none; }
        
        #gateKeeper { position: fixed; inset: 0; background: #fff; z-index: 2000; display: flex; align-items: center; justify-content: center; flex-direction: column; padding: 20px; text-align: center; }
        .gate-box { max-width: 400px; width: 100%; }
        .disclaimer { font-size: 12px; color: #999; background: #f9f9f9; padding: 15px; border-radius: 10px; margin-bottom: 20px; line-height: 1.6; border: 1px dashed #ddd; }
        .gate-input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; margin-bottom: 15px; outline: none; text-align: center; font-size: 16px; box-sizing: border-box; }
        .gate-btn { width: 100%; padding: 12px; background: var(--primary); color: #fff; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; touch-action: manipulation; }

        header { flex-shrink: 0; padding: 12px 15px; background: var(--card); border-bottom: 1px solid var(--border); z-index: 100; position: relative; }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .site-title { font-size: 18px; font-weight: bold; color: var(--primary); flex: 1; text-align: center; margin-left: 30px; }
        .login-icon { font-size: 18px; cursor: pointer; color: #ccc; padding: 5px; touch-action: manipulation; }

        #search { width: 100%; padding: 10px; border-radius: 10px; border: 1px solid #ddd; background: #f9f9f9; outline: none; box-sizing: border-box; margin-bottom: 10px; touch-action: manipulation; }
        
        #nav { display: flex; overflow-x: auto; gap: 10px; padding-bottom: 5px; scrollbar-width: none; -webkit-overflow-scrolling: touch; }
        #nav::-webkit-scrollbar { display: none; }
        #nav li { list-style: none; padding: 7px 18px; background: #eee; border-radius: 20px; font-size: 13px; white-space: nowrap; cursor: pointer; color: #555; transition: 0.3s; touch-action: manipulation; }
        #nav li.active { background: var(--primary); color: #fff; font-weight: 500; }
        
        #nav li.notice-tab { background: #fff8e1; color: var(--notice); border: 1px solid var(--notice); }
        #nav li.notice-tab.active { background: var(--notice); color: #fff; }
        
        #nav li.favorite-tab { background: #ffe4f0; color: #ff1493; border: 1px solid #ff69b4; }
        #nav li.favorite-tab.active { background: #ff1493; color: #fff; }

        main { flex: 1; overflow-y: auto; padding: 12px; scroll-behavior: smooth; position: relative; -webkit-overflow-scrolling: touch; overscroll-behavior: contain; overscroll-behavior-y: contain; touch-action: pan-y; }
        /* âœ¨ å…³é”®ä¿®å¤ï¼šç»™ grid å¼€å¯å¼¹æ€§å¸ƒå±€ä»¥æ”¯æŒ order æ’åº */
        .grid { display: flex; flex-direction: column; gap: 20px; max-width: 550px; margin: 0 auto; }
        
        .card { background: var(--card); border-radius: 12px; overflow: hidden; display: none; flex-direction: column; position: relative; border: 1px solid var(--border); box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .card.active-render { display: flex; } 

        /* âœ¨ æ ·å¼å±‚ä¸å†ç›´æ¥å†™ orderï¼Œäº¤ç»™ JS åŠ¨æ€åˆ†é… */
        .card.is-pinned { border: 2px solid var(--notice); }
        .card.is-pinned::before { content: "ğŸ“Œ ç½®é¡¶"; position: absolute; top: 10px; right: 80px; background: var(--notice); color: #fff; font-size: 10px; padding: 2px 6px; border-radius: 4px; z-index: 10; font-weight: bold; }

        .slider-box { width: 100%; aspect-ratio: 16 / 9; background: #e0e0e0; position: relative; display: flex; align-items: center; justify-content: center; overflow: hidden; flex-shrink: 0; touch-action: pan-y pinch-zoom; }
        .slider-box img { width: 100%; height: 100%; display: none; object-fit: cover; background: #000; }
        .slider-box img.active { display: block; }
        
        .edit-img-btn { position: absolute; z-index: 15; background: var(--primary); color: #fff; padding: 8px 16px; border-radius: 20px; font-size: 13px; cursor: pointer; display: none; border: none; font-weight: bold; touch-action: manipulation; }
        .admin-mode .edit-img-btn { display: block; }

        .slide-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.4); color: #fff; border: none; width: 40px; height: 50px; cursor: pointer; font-size: 24px; z-index: 5; touch-action: manipulation; }
        .prev { left: 0; border-radius: 0 8px 8px 0; }
        .next { right: 0; border-radius: 8px 0 0 8px; }
        .img-index { position: absolute; bottom: 10px; right: 12px; background: rgba(0,0,0,0.6); color: #fff; padding: 3px 10px; border-radius: 12px; font-size: 11px; z-index: 4; }

        .info-box { padding: 15px; display: flex; flex-direction: column; background: #fff; }
        .g-name { font-size: 17px; font-weight: bold; line-height: 1.4; margin-bottom: 8px; color: #111; outline: none; word-break: break-word; max-height: 60px; overflow-y: auto; }
        .g-tags { font-size: 12px; color: var(--primary); margin-bottom: 12px; outline: none; word-break: break-word; max-height: 40px; overflow-y: auto; }

        .link-wrap { position: relative; background: #f8f9fb; border-radius: 8px; border: 1px solid #edf0f5; display: flex; flex-direction: column; }
        .link-text { font-size: 13px; padding: 12px; color: #333; word-break: break-all; line-height: 1.2; outline: none; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 1; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-height: 1.2em; }
        .expanded .link-text { -webkit-line-clamp: initial; display: block; overflow-y: auto; max-height: 300px; color: #333; white-space: pre-wrap; }
        /* ğŸ› ä¿®å¤ï¼šç®¡ç†å‘˜æ¨¡å¼ä¸‹ä¹Ÿæ”¯æŒå±•å¼€æ”¶èµ· */
        .admin-mode .link-text { -webkit-line-clamp: 1; display: -webkit-box; max-height: 1.2em; overflow-y: visible; white-space: nowrap; text-overflow: ellipsis; line-height: 1.2; }
        .admin-mode .expanded .link-text { -webkit-line-clamp: initial; display: block; max-height: 300px; overflow-y: auto; white-space: pre-wrap; }
        .link-actions { display: flex; gap: 8px; padding: 8px 12px; border-top: 1px solid rgba(0,0,0,0.03); }
        .link-jump-btn { flex: 1; padding: 8px; background: #007bff; color: #fff; border: none; border-radius: 6px; font-size: 12px; font-weight: bold; cursor: pointer; transition: 0.2s; touch-action: manipulation; }
        .link-jump-btn:hover { background: #0056b3; }
        .link-jump-btn:active { transform: scale(0.95); }
        .admin-mode .link-jump-btn { display: none; }
        .expand-btn { text-align: right; padding: 5px 12px; font-size: 11px; color: var(--primary); cursor: pointer; border-top: 1px solid rgba(0,0,0,0.03); touch-action: manipulation; }
        /* ğŸ› ä¿®å¤ï¼šç¡®ä¿å±•å¼€æŒ‰é’®åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ä¹Ÿå¯è§ */
        .admin-mode .expand-btn { display: block; }

        /* ä¿®å¤ï¼šç®¡ç†å‘˜æ¨¡å¼ä¸‹æ˜¾ç¤ºå±•å¼€/æ”¶èµ·æŒ‰é’®ï¼ˆå·²åˆ é™¤éšè—è§„åˆ™ï¼‰ */

        /* ç®€ä»‹åŒºåŸŸæ ·å¼ */
        .desc-wrap { 
            margin-top: 20px; 
            background: #e8f4fd; 
            border-radius: 12px; 
            border: 2px solid #b3d9ff; 
            padding: 0; 
            box-shadow: 0 2px 8px rgba(0,123,255,0.1);
        }
        .desc-text { 
            font-size: 14px; 
            padding: 16px; 
            color: #2c3e50; 
            line-height: 1.8; 
            word-break: break-word; 
            display: -webkit-box; 
            -webkit-box-orient: vertical; 
            -webkit-line-clamp: 2; 
            overflow: hidden; 
            white-space: pre-wrap;
            background: #ffffff; 
            border-radius: 8px; 
            margin: 0; 
            border: 1px solid #e1f0ff;
        }
        .desc-wrap.expanded .desc-text { 
            -webkit-line-clamp: initial; 
            display: block; 
            max-height: 400px; 
            overflow-y: auto; 
            padding: 16px; 
            white-space: pre-wrap;
        }
        /* ç®¡ç†å‘˜æ¨¡å¼ä¸‹ä¹Ÿæ”¯æŒå±•å¼€æ”¶èµ· */
        .admin-mode .desc-text { 
            -webkit-line-clamp: 2; 
            display: -webkit-box; 
            max-height: none; 
            overflow-y: visible; 
            white-space: pre-wrap;
        }
        .admin-mode .desc-wrap.expanded .desc-text { 
            -webkit-line-clamp: initial; 
            display: block; 
            max-height: 400px; 
            overflow-y: auto; 
            white-space: pre-wrap;
        }
        .desc-expand-btn { 
            text-align: center; 
            padding: 12px; 
            font-size: 13px; 
            color: #007bff; 
            cursor: pointer; 
            border-top: 2px solid #d1e7ff; 
            background: #f0f8ff; 
            font-weight: 600; 
            touch-action: manipulation; 
            border-radius: 0 0 10px 10px; 
            transition: all 0.3s;
        }
        .desc-expand-btn:hover { 
            background: #d1e7ff; 
            color: #0056b3;
        }

        .pagination { display: flex; flex-direction: column; align-items: center; gap: 12px; margin: 20px 0; padding: 0 10px 80px 10px; }
        .page-numbers { display: flex; align-items: center; justify-content: center; gap: 8px; flex-wrap: wrap; }
        .page-item { min-width: 38px; height: 38px; border: 1px solid var(--border); background: #fff; color: #666; display: flex; align-items: center; justify-content: center; border-radius: 10px; cursor: pointer; font-size: 14px; transition: 0.2s; touch-action: manipulation; }
        .page-item.active { background: var(--primary); color: #fff; border-color: var(--primary); font-weight: bold; box-shadow: 0 4px 10px rgba(255,102,153,0.3); }
        .page-dot { color: #ccc; }

        .page-jump-row { display: flex; align-items: center; gap: 10px; color: #999; font-size: 13px; flex-wrap: wrap; justify-content: center; }
        .page-jump { width: 90px; height: 36px; border: 1px solid var(--border); border-radius: 8px; padding: 0 10px; font-size: 13px; outline: none; text-align: center; touch-action: manipulation; }

        .side-nav-btn { position: fixed; bottom: 40px; width: 45px; height: 45px; background: rgba(255,255,255,0.9); color: var(--primary); border: 1px solid var(--border); border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); cursor: pointer; z-index: 150; transition: 0.3s; touch-action: manipulation; }
        .side-nav-btn:active { transform: scale(0.9); background: var(--primary); color: #fff; }
        .side-nav-btn.show { display: flex; }
        #prevPageBtn { left: 15px; }
        #nextPageBtn { right: 15px; }

        #rocket { position: fixed; right: 15px; bottom: -60px; width: 45px; height: 45px; background: var(--primary); color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(255,102,153,0.4); cursor: pointer; transition: 0.4s; z-index: 200; font-size: 22px; touch-action: manipulation; }
        #rocket.show { bottom: 100px; }

        #adminBar { margin-top: 10px; display: none; gap: 10px; padding-top: 12px; border-top: 1px solid #eee; }
        #adminBar button { flex: 1; cursor: pointer; border: none; border-radius: 8px; padding: 12px; background: var(--primary); color: #fff; font-weight: bold; touch-action: manipulation; }
        .btn-save { background: #28a745 !important; }
        .btn-exit { background: #666 !important; }

        .del-btn, .pin-btn, .fav-btn { position: absolute; top: 10px; width: 28px; height: 28px; border-radius: 50%; display: none; justify-content: center; align-items: center; z-index: 20; cursor: pointer; color: #fff; font-size: 14px; touch-action: manipulation; }
        .del-btn { right: 10px; background: rgba(255,0,0,0.8); }
        .pin-btn { right: 45px; background: rgba(255,152,0,0.8); }
        .fav-btn { right: 80px; background: rgba(255,20,147,0.9); }
        .fav-btn.favorited { background: rgba(255,20,147,1); font-size: 16px; }
        .admin-mode .del-btn, .admin-mode .pin-btn { display: flex; }
        /* æ”¶è—æŒ‰é’®åœ¨éç®¡ç†å‘˜æ¨¡å¼ä¸‹ä¹Ÿæ˜¾ç¤º */
        .fav-btn { display: flex !important; }

        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: center; justify-content: center; z-index: 1000; }
        .modal-box { background: #fff; width: 85%; max-width: 350px; border-radius: 20px; padding: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .modal-title { font-size: 16px; font-weight: bold; color: #333; margin-bottom: 15px; }
        .modal-input { width: 100%; padding: 12px 0; border: none; border-bottom: 1px solid #eee; font-size: 15px; outline: none; margin-bottom: 25px; }
        .modal-btns { display: flex; gap: 15px; }
        .modal-btn { flex: 1; padding: 12px; border: none; border-radius: 12px; font-weight: bold; cursor: pointer; touch-action: manipulation; }
        .btn-cancel { background: #f5f5f5; color: #666; }
        .btn-confirm { background: #eff4ff; color: #3b82f6; }
    </style>
<style>
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    </style><style>
        html, body {
            overscroll-behavior: none !important;
            overscroll-behavior-y: none !important;
            overflow: hidden !important;
            position: fixed !important;
            width: 100% !important;
            height: 100% !important;
        }
        #mainScroll {
            overscroll-behavior: contain !important;
            overscroll-behavior-y: contain !important;
            -webkit-overflow-scrolling: touch !important;
        }
    </style><style id="loadNotifStyle">
            @keyframes fadeInUp {
                from { bottom: 50px; opacity: 0; }
                to { bottom: 80px; opacity: 1; }
            }
        </style></head>
<body class="view-mode">

<div id="gateKeeper" style="display: flex;">
    <div class="gate-box">
        <h2 style="color:var(--primary)">å¤©ç¬‘ã®ç§˜å¯†åŸºåœ°</h2>
        <div class="disclaimer">
            <strong>ã€å…è´£å£°æ˜ã€‘</strong><br>
            æœ¬ç«™æ‰€æœ‰èµ„æºå‡æ”¶é›†è‡ªäº’è”ç½‘ï¼Œä»…ä¾›å­¦ä¹ å‚è€ƒä¸æŠ€æœ¯äº¤æµï¼Œä¸¥ç¦ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ã€‚ä¸‹è½½åè¯·äº24å°æ—¶å†…åˆ é™¤ã€‚å› ç§è‡ªä¼ æ’­ã€å€’å–å¯¼è‡´çš„ä»»ä½•æ³•å¾‹çº çº·ä¸æœ¬ç«™æ— å…³ã€‚ç»§ç»­è®¿é—®å³ä»£è¡¨æ‚¨åŒæ„æœ¬åè®®ã€‚
        </div>
        <input type="password" id="accessPass" class="gate-input" placeholder="è¾“å…¥å¤©ç¬‘çš„è§£å‹æš—å·">
        <button class="gate-btn" onclick="verifyAccess()">è§£é”åŸºåœ°</button>
    </div>
</div>

<header>
    <div class="header-top">
        <div class="site-title">å¤©ç¬‘ã®ç§˜å¯†åŸºåœ°</div>
        <div id="entryBtn" class="login-icon" onclick="openLogin()" style="visibility: visible;">ğŸ”’</div>
    </div>
    <input type="text" id="search" placeholder="ğŸ” æœæœçœ‹..." oninput="refreshUI(1)">
    <div id="nav">
        <li class="notice-tab" onclick="filterTab('å…¬å‘Š',this)">ğŸ“¢ å…¬å‘Š</li>
        <li class="favorite-tab" onclick="filterTab('æ”¶è—',this)">ğŸ’– æˆ‘çš„æ”¶è—</li>
        <li class="active" onclick="filterTab('all',this)">ğŸŒŸ å…¨éƒ¨</li>
        <li onclick="filterTab('ACT',this)" class="">ACT</li>
        <li onclick="filterTab('SLG',this)" class="">SLG</li>
        <li onclick="filterTab('RPG',this)">RPG</li>
        <li onclick="filterTab('GAL',this)">GAL</li>
        <li onclick="filterTab('ADV',this)">ADV</li>
        <li onclick="filterTab('AZ',this)">AZ</li>
        <li onclick="filterTab('PC',this)">PC</li>
        <li onclick="filterTab('æœ¬å­',this)">ğŸ“š æœ¬å­</li>
        <li onclick="filterTab('å…¶ä»–è½¯ä»¶',this)">ğŸ› ï¸ å…¶ä»–è½¯ä»¶</li>
        <li onclick="filterTab('å……ç”µè§†é¢‘',this)" class="video-tab">âš¡ å……ç”µè§†é¢‘</li>
    </div>
    <div id="adminBar" style="display: none;">
        <button onclick="addCard()">â• æ–°å¢</button>
        <button class="btn-save" onclick="saveToCloud()">â˜ï¸ ä¿å­˜äº‘ç«¯</button>
        <button onclick="exportHTML()" style="background: #17a2b8 !important;">ğŸ’¾ å¯¼å‡ºå¤‡ä»½</button>
        <button onclick="clearCacheAndReload()" style="background: #ff9800 !important;">ğŸ”„ æ¸…ç¼“å­˜</button>
        <button class="btn-exit" onclick="exitAdmin()">ğŸšª é€€å‡º</button>
    </div>
</header>

<main id="mainScroll" onscroll="handleScroll()">
    <div class="grid" id="box"><div class="card active-render" data-card-id="card_1771783744090_z0nf8web1" style="order: 1;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbIVpmzDtu21rrxcnelsEFVd02F_ZcQACCQxrG3zp2UQao3bL6Rn40QEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbIZpmzEF-VB5y5TuRtIQ4I8Q5LvRMAACCgxrG3zp2USwUbJEpTjezAEAAwIAA3gAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbIhpmzEkntZc75woygURwyp9TP24IQACCwxrG3zp2UROZ0wYd0Vv6gEAAwIAA3gAAzoE.jpg" class="active">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">3 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">A17 [PC]ã¨ã‚ã‚‹å¥³ä¸Šå¸ã®ç§˜å¯†ã®ãƒãƒƒã‚µãƒ¼ã‚¸åº— (410MB)</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: ACT</div>
            <div class="link-wrap expanded">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/c1fa73107c44</div><div>æå–ç :gmnA</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/2b43e60c2b95</div><div>æå–ç :SNTj</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/c1fa73107c44&quot;,&quot;https://pan.quark.cn/s/2b43e60c2b95&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">æ”¶èµ· â–´</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text"></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771783491025_9iakrabz3" style="order: 2;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGdpmxBuz3ph7CC48optXAOEL_mJ6AAC5QtrG3zp2URyCPG1IzG4bgEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGlpmxCvqyd2co-tYPF3DEuxK8w_EAAC5gtrG3zp2UTUOgHp55suZwEAAwIAA3gAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGppmxDG-5dAv1e91bWIBTz_vcto1AAC5wtrG3zp2UQoMGefG2TMMAEAAwIAA3gAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A15ã€‘Chibi PAKO School (50MB)</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: PC åƒç´  åŠ¨æ€ èè‰ å­¦ç”Ÿ</div>
            <div class="link-wrap expanded">
                <div class="link-text"><div>åˆ†å·1</div><div>é“¾æ¥:https://pan.quark.cn/s/c1fa73107c44</div><div>æå–ç :gmnA</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/2b43e60c2b95</div><div>æå–ç :SNTj</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/c1fa73107c44&quot;,&quot;https://pan.quark.cn/s/2b43e60c2b95&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">æ”¶èµ· â–´</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text"></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771777633202_7p3rhuy47" style="order: 3;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbIFpmy9emrmGE0TOIs3zaQ7GoUwgFQACBQxrG3zp2UQtGDb8egkslwEAAwIAA3kAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbIJpmy93LKZXBFdGfc_OEKrOB31H2gACBgxrG3zp2USyna5KlZ7QIAEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbINpmy-Sf4d76O7Rf_CWEhjQPYAN3wACBwxrG3zp2USWBzzomYcWOQEAAwIAA3kAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A16ã€‘äºšäººå¥³ä»†10æ—¥é—´çš„ç‰›å¥¶ä¾›ç»™å¥‘çº¦ï¼ˆ250MBï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: PC SLG å·¨ä¹³ å¥³ä»† å…½å¨˜</div>
            <div class="link-wrap expanded">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/42a314467eab</div><div>æå–ç :hd6k</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/e4f9395f77ef</div><div>æå–ç :pH2k</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/42a314467eab&quot;,&quot;https://pan.quark.cn/s/e4f9395f77ef&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">æ”¶èµ· â–´</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">å’Œä¸€å¤´ç‰›è°ˆæ‹çˆ±?å…¶å®åªè¦è„¸å¥½çœ‹å“ªæ€•æ˜¯çŒªéƒ½æ²¡é—®é¢˜ï¼Œä½ è¯´æ˜¯å§ï¼Ÿ<div><br></div><div><br></div><div><br></div><div>æ¯”å¦‚çŒªçŒªä¾ é‡Œçš„å°è²è²ã€‚</div></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771769064434_5gcdxln5n" style="order: 4;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGRpmw4SYwYnRdmFDb2UsoeyhbTjIQAC4gtrG3zp2UQ0yaLPfMPteAEAAwIAA3kAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGVpmw4wlmGmSTOOUiI9tLFkIBCT_wAC4wtrG3zp2UR3Z4Ojehc7fwEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGZpmw5O0K73K4_YEyD6OFnIpHtm0gAC5AtrG3zp2UR4urUaY39JIAEAAwIAA3kAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A14ã€‘SUMMER~å¤å¤©çš„14æ—¥~ SUMMER~å¤ã®14æ—¥~Alæ±‰åŒ–ç‰ˆæ­£å¼ç‰ˆ+å­˜æ¡£ï¼ˆ1.50Gï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: PC åƒç´  åŠ¨æ€ SLG å·¨ä¹³</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/33782d01a419</div><div>æå–ç :jRAw</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/332f91ef8ec2</div><div>æå–ç :HC5F</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/33782d01a419&quot;,&quot;https://pan.quark.cn/s/332f91ef8ec2&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">è´¨é‡è¶…é«˜çš„åƒç´ æ¸¸æˆï¼Œæˆ‘ä¹Ÿå–œæ¬¢å·¨ä¹³å°å§å§ï¼Œæ‰€ä»¥æˆ‘ä»€ä¹ˆæ—¶å€™ä¼šæœ‰å¥³æœ‹å‹å‘¢ğŸ˜­</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771768555163_1hkmgcnwz" style="order: 5;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGFpmwuezPFxxRh3vVt2vAJHoZwK4QAC3gtrG3zp2UT2ZXyRx7qQgAEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGJpmwu7U00CfEM9efM5IjqiNnt4vQAC3wtrG3zp2URc1urRTHDmOQEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbGNpmwvTeSIgC1dJwArIYGsf3XTlmAAC4AtrG3zp2UTjhmKBC5wpvwEAAwIAA3kAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A13ã€‘æˆ‘æ˜¯æ¤…å­ï¼ˆ60MBï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: PC åƒç´  åŠ¨æ€ SLG èè‰ è‚›äº¤</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/b6e22ecf3764</div><div>æå–ç :bV5n</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/34dd1cefe48d</div><div>æå–ç :U7K8</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/b6e22ecf3764&quot;,&quot;https://pan.quark.cn/s/34dd1cefe48d&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">ç»å…¸äº’åŠ¨å°æ¸¸æˆï¼Œè´¨é‡è¿˜ä¸é”™ï¼Œä½†æ˜¯æ³¨æ„ä¸€ä¸‹ç†¬ï¼Œå°±æ˜¯æœ‰å±å°¿å±ã€‚</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771748838000_vcnqi0ax8" style="order: 6;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDxpmr7f6dEguIoDUWTMr7ZY4nfNSgACugtrG3zp2URdcJBTTKBOJQEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbD1pmr70bBHaFIzvupQf7DCNqiXr1QACuwtrG3zp2UTK6OEMHE38sAEAAwIAA3gAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbD5pmr8UdQqRk2UfBCzQJX0Oz9lGLwACvAtrG3zp2UR4-sXGF1VWmQEAAwIAA3gAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A12ã€‘è‹—åºŠæˆ˜äº‰/è‹—åºŠã†ã‰ãƒ¼ãšï¼ˆ400MBï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: å®‰å“ SLG èè‰ è§¦æ‰‹ é­”æ³•å°‘å¥³</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/b85dbe595fb1</div><div>æå–ç :jjWr</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/78002471b0d2</div><div>æå–ç :GSgc</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/b85dbe595fb1&quot;,&quot;https://pan.quark.cn/s/78002471b0d2&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text"><div>æŠ“ä½é­”å¥³ï¼ŒæŠŠå¥¹å½“ä½œè‹—åºŠ!è‹—åºŠå¼€å‘ç³»çº¿ä¸Šé˜²å«æ¸¸æˆ!!</div><div>ä½ ä½œä¸ºâ€œè‹—åºŠè¿·å®«â€è¢«é€ ç‰©ä¸»å¤§äººè¯ç”Ÿäº†ã€‚</div><div>æ—¢ç„¶å‡ºç”Ÿåœ¨è‹—åºŠè¿·å®«å°±è¦åšä¸€ä»¶äº‹â€¦</div><div>æŠŠé­”å¥³ä½œä¸ºè‹—åºŠï¼Œæ¦¨å–é­”åŠ›!</div><div>åå‡»äº†æ¥åˆ°è¿·å®«çš„é­”å¥³å°‘å¥³ä»¬ï¼Œ</div><div>è®©æ‰€æœ‰çš„é­”å¥³å°‘å¥³éƒ½æˆä¸ºä½ çš„è‹—åºŠå§!</div></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771748251127_xp3m3lr6g" style="order: 7;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDlpmrzYP0oGLmch3q_xtx7ZqhBVDwACtwtrG3zp2UQELBVrLlqR9gEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDppmrz0GQ-yUUAAAe0BSnwIkht1-XIAArgLaxt86dlEzqNOobhmcw4BAAMCAAN4AAM6BA.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDtpmr0Pr7vc-N9_l1SaoX0PqEk2HAACuQtrG3zp2UTbqjpczJtaBQEAAwIAA3gAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A11ã€‘é‚£ä¸ªå­©å­ä»åæ‰åå°±ä¸€ç›´æœ‰è‚¡å‘³é“ï¼ˆã‚ã®å­ã€å£Šã‚Œã¦ã‹ã‚‰ãšã£ã¨è‡­ã„ï¼‰ï¼ˆ300MBï¼‰<div><br></div></div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: PC åƒç´  åŠ¨æ€ èè‰ ç›‘ç¦</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/feff336bf9e6</div><div>æå–ç :3N9J</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/ba7458089674</div><div>æå–ç :xMsR</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/feff336bf9e6&quot;,&quot;https://pan.quark.cn/s/ba7458089674&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">â€œå†è®©æˆ‘å˜å¾—æ›´è‡­å§â€¦â€<div>è¢«å±±è´¼å›šç¦ã€ä¸æ–­é­å—ä¾µçŠ¯çš„å°‘å¥³ã€‚</div><div><br></div><div>åœ¨ç²¾æ¶²ä¸ç”·äººæ°”å‘³çš„æµ¸æŸ“ä¸‹ï¼Œèº«å¿ƒé€æ¸å •è½ï¼Œæ²‰æººäºå¿«æ„Ÿä¹‹ä¸­â”€â”€</div><div><br></div><div>è¿™æ˜¯ä¸€æ¬¾é‡‡ç”¨ç‚¹é˜µåŠ¨ç”»é£æ ¼çš„çŸ­ç¯‡RPGï¼Œæç»˜äº†å°‘å¥³è¢«ç²¾æ¶²ç·æ±¡çš„æ•…äº‹ã€‚</div><div><br></div><div>ä»OPåˆ°EDä¸ºçº¿æ€§å‰§æƒ…ï¼Œæ¸¸ç©æ—¶é—´çº¦10ï½15åˆ†é’Ÿã€‚</div><div><br></div><div>æ‰€æœ‰Håœºæ™¯ä»ä¸€å¼€å§‹å³å¯åœ¨å›å¿†æˆ¿é—´ä¸­å…¨éƒ¨è§£é”ã€‚</div><div><br></div><div>ã€æ”¶å½•ç‚¹é˜µHåŠ¨ç”»ã€‘å…¨7ä¸ªåœºæ™¯ï¼ˆè½®â—‹ãƒ»å£äº¤ãƒ»ä¹³äº¤ç­‰ï¼‰</div><div><br></div><div>ã€ä¸»é¢˜ã€‘ç²¾æ¶²ãƒ»æ°”å‘³ãƒ»å •è½å°‘å¥³çš„å°è¯è®¾è®¡</div><div><br></div><div>â–  æ¨èç»™ä»¥ä¸‹äººç¾¤</div><div><br></div><div>ãƒ»å–œæ¬¢ç‚¹é˜µç»˜ãƒ»ç‚¹é˜µè‰²æƒ…å†…å®¹</div><div><br></div><div>ãƒ»å–œæ¬¢ç²¾æ¶²æ²¾æŸ“ã€å°„ç²¾æ¶‚æŠ¹æå†™</div><div><br></div><div>ãƒ»æƒ³çŸ­æ—¶é—´å†…è·å¾—æ»¡è¶³</div><div><br></div><div>ãƒ»å–œæ¬¢è¢«ç·æ±¡ãƒ»å •è½ç³»å¥³ä¸»è§’</div></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771747585867_q4p20u3ak" style="order: 8;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDZpmrq3g08OpgLq0e4h_XyjBcRJHgACtAtrG3zp2UR_SYdMQ45fPAEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDdpmrseEX0hq1wE2Rx2Pl9ZyHiMSgACtQtrG3zp2USyBEaGiNxSXQEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDhpmrs3DKCahNrm4JdDz8Xsj68MwgACtgtrG3zp2URtIRBkkXrqSQEAAwIAA3kAAzoE.jpg" class="active">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">3 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A10ã€‘èœ‚èœœæ‘ï¼Œåœ¨å¼‚ä¸–ç•Œä¹Ÿèƒ½ä¸ºæ‰€æ¬²ä¸º?ï¼ˆ300MBï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: å®‰å“ ACT é­”ç‰©å¨˜ åŠ¨æ€</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/b7c601cf8343</div><div>æå–ç :Gs2b</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/27e0b69add43</div><div>æå–ç :mQsa</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/b7c601cf8343&quot;,&quot;https://pan.quark.cn/s/27e0b69add43&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">ä¸é¬¼å…±ç”Ÿçš„å°é•‡ç»­ä½œï¼Œåœ°å›¾å¾ˆå¤§ï¼Œè¶…é«˜æ¢ç´¢åº¦ã€‚</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card active-render" data-card-id="card_1771746993029_7bnk44ef7" style="order: 9;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDRpmrgxvOY7QTCJg2UZsTiVvW15jwACsgtrG3zp2USRswFXg71IOwEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDNpmrgYT4d36jq7IN_3KjPZgXNVmgACsQtrG3zp2UQc-MmhnOjuqgEAAwIAA3gAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDVpmrg_8V8nD6gNweMzdGc2ZC-pCwACswtrG3zp2USosjttbJJOowEAAwIAA3gAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A9ã€‘æˆ‘çš„åŸé•‡æ—¶é—´åœæ­¢æ—¶ï¼ï¼ˆä¿ºã®ç”ºãŒæ­¢ã¾ã£ãŸæ™‚ï¼‰DLå®˜æ–¹ä¸­æ–‡ï¼ˆ100MBï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾:PC ACT åŠ¨æ€ æ—¶é—´åœæ­¢</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/7789bd844bb2</div><div>æå–ç :gUAt</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/17930c8a76db</div><div>è§£å‹ç :114514</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/7789bd844bb2&quot;,&quot;https://pan.quark.cn/s/17930c8a76db&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">æ“ä½œæ‰‹æ„Ÿåƒç­”è¾©ï¼Œè‡³å°‘cgè¿˜è¡Œã€‚</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card" data-card-id="card_1771746555722_exc6n3fz5" style="order: 10;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDBpmrTpvNk0FliGMdoICjwO-9xESwACrgtrG3zp2UTjlSJ1-wdT6wEAAwIAA3gAAzoE.webp">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDFpmrUQM-Nvz1fdLl3cKdpWQeWMSwACrwtrG3zp2URfBczBDpJMrAEAAwIAA3kAAzoE.webp" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBbDJpmrUp4HayqMM5y_ygeCDEzt80OQACsAtrG3zp2URFj4bys7FEQAEAAwIAA3kAAzoE.webp" class="active">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">3 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A8ã€‘å¼‚å˜æ£€æŸ¥ï¼Œæ¯«æ— ç–æ¼ï¼ ç•°å¤‰ãƒã‚§ãƒƒã‚¯ã«æ¼ã‚Œã¯ç„¡ã—!ï¼ˆ300MBï¼‰</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾:PC åƒç´  åŠ¨æ€ ACT SLG</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/9708a1ac7569<div>æå–ç :PZB7</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/de0f685dd16f</div><div>æå–ç :Y6wZ</div></div><div>è§£å‹ç :114514</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/9708a1ac7569&quot;,&quot;https://pan.quark.cn/s/de0f685dd16f&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text">è¿™ä¸ªç›–ä¸–æ¨¡æ‹Ÿå™¨å¯ä»¥ç©ï¼Œå¯æƒœçš„æ˜¯è¿™ä¸ªæ¸¸æˆæ²¡æ¼ç¦ï¼Œå†…å®¹æ˜¯æ†‹å°¿ã€‚</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    </div><div class="card" data-card-id="card_1771680352692_87k8k56o4" style="order: 11;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBa_tpmbLG2ubIO4PGaa3ouYyUMDFS9AACVwtrG3zp0USTZpk1Y7E6wQEAAwIAA3gAAzoE.png">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBa_ppmbKuqQm_EHB_-PvvCQq84kV5XgACVgtrG3zp0US5e6Q7_qiwnQEAAwIAA3gAAzoE.png" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBa_xpmbLvCe0zszkIYRzSAAFhNO_S8AoAAlgLaxt86dFERuHNY18y14ABAAMCAAN4AAM6BA.png" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A7ã€‘Lure Of Passion_0.7.2 (100MB)</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: SLG å®‰å“ åƒç´  åŠ¨æ€&nbsp;</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>é“¾æ¥:https://pan.quark.cn/s/b6f653020532</div><div>æå–ç :1tBf</div><div>åˆ†å·2</div><div>é“¾æ¥:https://pan.quark.cn/s/1578cf2c69d8</div><div>æå–ç :Yyas</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/b6f653020532&quot;,&quot;https://pan.quark.cn/s/1578cf2c69d8&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">è°èƒ½æ‹’ç»ä¸€ä¸ªå¯çˆ±çš„çŒ«çŒ«å‘¢ï¼Ÿ</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" data-card-id="card_1771658624536_aks1x8ete" style="order: 12;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://image.acg.lol/file/2026/02/21/photo_2026-02-13_20-37-196d604a628a399ede.jpg">
            <img loading="lazy" src="https://image.acg.lol/file/2026/02/21/photo_2026-02-13_20-37-36.jpg" class="">
            <img loading="lazy" src="https://image.acg.lol/file/2026/02/21/photo_2026-02-13_20-37-41.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">[foxy]æ‹çˆ±å®šä½ ç¥ç¤¾Ã—å‰è¾ˆ<div>ã‚ã‘ã‚‰ã¶ -Location Love- ç¥ç¤¾Ã—å…ˆè¼©&nbsp;</div></div>
            <div class="g-tags">æ ‡ç­¾: GAL ADV æ— ç  æ­¥å…µ æ‹çˆ± å·«å¥³ é’æ¢…ç«¹é©¬ PC å®‰å“kr</div>
            <div class="link-wrap">
                <div class="link-text"><div>æ³¨æ„ä¸¤ä¸ªé“¾æ¥ï¼Œä¸‹ä¸¤ä¸ªæ–‡ä»¶ä¿å­˜åä¸‹è½½é˜²ç‚¸,æŠŠjpgå’Œpngä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸‹è½½ï¼Œ</div><div>åç¼€jpgæ”¹001ï¼Œpng æ”¹002</div><div>è§£å‹ç foxyfoxy</div><div>äºŒå±‚@xinkongkafei</div><div>ucä¸‹è½½æ–‡ä»¶è€Œä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œä¸ç„¶ä¸‹è½½å¤±è´¥</div><div>https://pan.quark.cn/s/63f1e61bf839</div><div>https://drive.uc.cn/s/498d11a908e84?public=1</div><div><br></div><div>https://pan.baidu.com/s/1Z1c9bcVCGNOEmJgUOt7g-Q?pwd=foxy</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="window.open('https://pan.quark.cn/s/63f1e61bf839https://drive.uc.cn/s/498d11a908e84?public=1https://pan.baidu.com/s/1Z1c9bcVCGNOEmJgUOt7g-Q?pwd=foxy', '_blank')">ğŸ”— æ‰“å¼€é“¾æ¥</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">è§†è§‰å°è¯´ï¼Œèµå“¦</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card is-pinned active-render" data-card-id="card_1771655213755_7clwgfcrt" style="order: -1000;">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://image.acg.lol/file/2026/02/21/QQ20260221-151622.png">
            <img loading="lazy" src="https://image.acg.lol/file/2026/02/21/QQ_1771658134354.png" class="">
            <img loading="lazy" src="https://image.acg.lol/file/2026/02/21/QQ20260221-151729.png" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">[foxy]æ ‡é¢˜è§£å‹æµç¨‹</div>
            <div class="g-tags">æ ‡ç­¾: å…¬å‘Š ç‹ç‹¸</div>
            <div class="link-wrap">
                <div class="link-text">æ³¨æ„ä¸¤ä¸ªé“¾æ¥ï¼ŒæŠŠjpgå’Œpngä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸‹è½½ï¼Œåç¼€jpgæ”¹001ï¼Œpng æ”¹002<div>è§£å‹ç foxyfoxy</div><div>äºŒå±‚@xinkongkafei</div><div>ucä¸‹è½½æ–‡ä»¶è€Œä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œä¸ç„¶ä¸‹è½½å¤±è´¥</div><div>ç”µè„‘å¤¸å…‹ä¿å­˜ååœ¨å¿«ä¼ ä¸­å‘é€ç½‘ç›˜æ–‡ä»¶ä¸‹</div><div>è½½æœ¬åœ°é€Ÿåº¦å¿«ä¸€äº›ï¼ˆæ‰‹æœºæµ‹è¯•æ— æ•ˆæœï¼‰</div></div>
                <div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">æ³¨æ„ï¼ŒAæ ‡ç­¾æ˜¯å¤©ç¬‘ä¸Šä¼ çš„ï¼Œfoxyæ˜¯ç‹ç‹¸ä¸Šä¼ çš„ï¼Œå¤©ç¬‘è§£å‹ç å§‹ç»ˆä¸º114514ï¼</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" style="order: 13;" data-card-id="card_1771284173942_0">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzdpkEYUF6cM2Jr85ZBieEMAASJ0yTkAAu4LaxuvV4BEDZGywkv2XZ4BAAMCAANtAAM6BA.jpeg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzZpkEXvtqDLGP9BfjEj5HcHIGCCVgAC7QtrG69XgEQ-YLy651zIUQEAAwIAA3gAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzhpkEYvWdGnGUb1D5T-gi4Ya6AKZAAC7wtrG69XgETLlj04eJmpiQEAAwIAA3cAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A6ã€‘Lessonï¼ˆ130MBï¼‰</div>
            <div class="g-tags">æ ‡ç­¾: å®‰å“ åƒç´  åŠ¨æ€ èè‰ ä½“æ“æœ</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>https://pan.quark.cn/s/cOc54193691f</div><div>æå–ç :eR1q</div><div>åˆ†å·2</div><div>https://pan.quark.cn/s/681732cÑ6502</div><div>æå–ç :M7r2</div><div><br></div><div>è§£å‹ç :114514</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/cOc54193691f&quot;,&quot;https://pan.quark.cn/s/681732c&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">è®¾ç½®é‡Œå¯ä»¥è°ƒä¸­æ–‡ã€‚</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" style="order: 14;" data-card-id="card_1771284173942_1">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzNpkENj0Aiwyp6MPz5duaJBSB9eUwAC6AtrG69XgETUUtjXL2PJfQEAAwIAA3kAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzRpkEN2Xm-WRFusvtFaom8HskzCEQAC6QtrG69XgESEsWkVU5NkNwEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzVpkEOWvtMIVoA4zHIYdaJULlWbyQAC6gtrG69XgEQOvkhpIYUvRgEAAwIAA3kAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A5ã€‘å­™ç¬‘å·ä¼ å¥‡ï¼ˆ270MBï¼‰</div>
            <div class="g-tags">æ ‡ç­¾: å®‰å“ RPG çŒå¥‡</div>
            <div class="link-wrap">
                <div class="link-text">https://pan.quark.cn/s/4c1788ee28e4?pwd=kfjb<div>æå–ç :kfjb</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="window.open('https://pan.quark.cn/s/4c1788ee28e4?pwd=kfjb', '_blank')">ğŸ”— æ‰“å¼€é“¾æ¥</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">å¤©çš‡ä¸‡å²ï¼<div>å¤©çš‡ä¸‡æ­³ï¼</div></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" style="order: 15;" data-card-id="card_1771284173942_2">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZy9pkEIEUaiSrjnNMj0RDcJcl7zS0AAC4wtrG69XgERCZbLBl-KeLQEAAwIAA3gAAzoE.webp">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzBpkEIXB6ivQIYZrANxPB-zs7ZTGwAC5AtrG69XgERj5z3-uMFzvAEAAwIAA3gAAzoE.webp" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZzFpkEIs2Aof654RXR90sz3XLbBwqgAC5QtrG69XgESg24IZkAxbCAEAAwIAA3gAAzoE.webp" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A4ã€‘kyuuko9ï¼ˆ40MBï¼‰</div>
            <div class="g-tags">æ ‡ç­¾: PC åƒç´  åŠ¨æ€ èè‰ SLG</div>
            <div class="link-wrap">
                <div class="link-text">https://pan.quark.cn/s/92010f612c22?pwd=pa2V<div>æå–ç ï¼špa2V</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="window.open('https://pan.quark.cn/s/92010f612c22?pwd=pa2V', '_blank')">ğŸ”— æ‰“å¼€é“¾æ¥</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">æ„Ÿè§‰åƒåœ¨ç©éŸ³æ¸¸â€¦â€¦</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" style="order: 16;" data-card-id="card_1771284173942_3">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZyxpkD9UZ-aFW_EYmu6LHMoYp6ldlwAC4AtrG69XgES9V59981NhZQEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZy1pkD-ApJM4F41QqWYZMngKm5vh1AAC4QtrG69XgERW6iGi_ELpcQEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZy5pkD-fRBgztq5BYqfjpKnSzsFcggAC4gtrG69XgES1Pq1W2UKvAwEAAwIAA3kAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A3ã€‘ä»¤å’Œæ—¶ä»£çš„èè‰æ§ï¼ˆ1.4Gï¼‰</div>
            <div class="g-tags">æ ‡ç­¾: PC RPG åƒç´  åŠ¨æ€ èè‰</div>
            <div class="link-wrap">
                <div class="link-text">https:/pan.quark.cn/s/2fa0472ac5af?pwd=eQVB<div>æå–ç :eQVB</div></div>
                <div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">è´¨é‡ä¸­è§„ä¸­çŸ©ï¼Œèƒ½ç©å°±è¡Œ</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" style="order: 17;" data-card-id="card_1771284173942_4">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZylpkD5mggQwEfzNdnEEotWd2xkxWgAC2wtrG69XgETCS3qv0rQX0AEAAwIAA3cAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZyppkD5-GeiDjv0zfZnnQzd1UyWzpwAC3AtrG69XgEQn-ej4uB_CvAEAAwIAA3kAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZytpkD6Rx4cdUPVuO0_oeUCZ7jk4RgAC3QtrG69XgERV4rjMis_APQEAAwIAA3kAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A2ã€‘æˆ‘çš„å¥³ä»† /åƒ•ã®ãƒ¡ã‚¤ãƒ‰ï¼ˆ1.2Gï¼‰</div>
            <div class="g-tags">æ ‡ç­¾: PC å…»æˆ åƒç´  åŠ¨æ€ å¥³ä»† èè‰ SLG</div>
            <div class="link-wrap">
                <div class="link-text">https://pan.quark.cn/s/da3ab6a11c08<div>æå–ç :2X4x</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="window.open('https://pan.quark.cn/s/da3ab6a11c08', '_blank')">ğŸ”— æ‰“å¼€é“¾æ¥</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">å…»å¥³ä»†ï¼Œç»å…¸åƒç´ åŠ¨æ€</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div><div class="card" style="order: 18;" data-card-id="card_1771284173942_5">
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZyVpkDxeceHPBhLidF7zIfk9wglL2wAC2AtrG69XgES2fGjF3twC4wEAAwIAA3gAAzoE.jpg">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZydpkDyQSoXE-1jSHv2f8h_6uCZ9sgAC2QtrG69XgER6s-TT_E82oAEAAwIAA3gAAzoE.jpg" class="">
            <img loading="lazy" src="https://im.gurl.eu.org/file/AgACAgEAAxkDAAEBZyhpkDypRDekWEHSu1w3kzKVoMxiYwAC2gtrG69XgEQCFlepvQcKXgEAAwIAA3gAAzoE.jpg" class="">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">ã€A1ã€‘æˆ‘å’Œå§å§ä»¬çš„å¤å¤©ï¼ˆ180MBï¼‰</div>
            <div class="g-tags">æ ‡ç­¾: PC RPG æ­£å¤ª éª‘å¤§è½¦ å·¨ä¹³ åƒç´  åŠ¨æ€</div>
            <div class="link-wrap">
                <div class="link-text">åˆ†å·1<div>https://pan.quark.cn/s/f72479580e14?pwd=74QB</div><div>æå–ç :74QB</div><div>åˆ†å·2</div><div>https://pan.quark.cn/s/13e6ba4d007f?pwd=z4yN</div><div>æå–ç :z4yN</div></div>
                <div class="link-actions"><button class="link-jump-btn" onclick="showLinkSelector([&quot;https://pan.quark.cn/s/f72479580e14?pwd=74QB&quot;,&quot;https://pan.quark.cn/s/13e6ba4d007f?pwd=z4yN&quot;])">ğŸ”— é€‰æ‹©é“¾æ¥ (2ä¸ª)</button></div><div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
        <div class="desc-wrap">
                <div class="desc-text">ç»å…¸æ­£å¤ªéª‘å¤§è½¦ï¼Œjoiå¯è¿è¡Œ</div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div></div>
    </div></div>
    <div id="pagination" class="pagination"><div class="page-numbers"><div class="page-item active" onclick="refreshUI(1)">1</div><div class="page-item " onclick="refreshUI(2)">2</div></div>
            <div class="page-jump-row">
                <span>è·³è‡³</span>
                <input type="number" class="page-jump" placeholder="é¡µç ..." onkeydown="if(event.keyCode==13) { let p=parseInt(this.value); if(p&gt;0 &amp;&amp; p&lt;=2) refreshUI(p); else alert('æ²¡æœ‰è¿™ä¸€é¡µï¼'); }">
                <span>/ å…± 2 é¡µ</span>
            </div></div>
    <div id="rocket" onclick="goTop()" class="">ğŸš€</div>
    <div id="prevPageBtn" class="side-nav-btn" onclick="navPage(-1)">â€¹</div>
    <div id="nextPageBtn" class="side-nav-btn show" onclick="navPage(1)">â€º</div>
</main>

<div id="loginModal" class="modal-overlay" style="display: none;">
    <div class="modal-box">
        <div class="modal-title">ğŸ”‘ éªŒè¯ç®¡ç†èº«ä»½ï¼š</div>
        <input type="password" id="passInput" class="modal-input" placeholder="å¤©ç¬‘çš„ç®¡ç†æš—å·">
        <div class="modal-btns">
            <button class="modal-btn btn-cancel" onclick="closeLogin()">å–æ¶ˆ</button>
            <button class="modal-btn btn-confirm" onclick="checkPass()">ç¡®å®š</button>
        </div>
    </div>
</div>

<script>
// ===== ğŸ›¡ï¸ ç»ˆæé˜²ä¸‹æ‹‰åˆ·æ–° =====
(function() {
    // 1. æœ€æ—©æœŸé˜»æ­¢ï¼šåœ¨ä»»ä½•æ¡†æ¶åŠ è½½å‰å°±æ‹¦æˆª
    let startY = 0;
    let startX = 0;

    document.addEventListener('touchstart', function(e) {
        startY = e.touches[0].pageY;
        startX = e.touches[0].pageX;
    }, { passive: true });

    document.addEventListener('touchmove', function(e) {
        const dy = e.touches[0].pageY - startY;
        const dx = e.touches[0].pageX - startX;
        const main = document.getElementById('mainScroll');

        // å¦‚æœæ˜¯æ¨ªå‘æ»‘åŠ¨ï¼Œä¸å¹²é¢„
        if (Math.abs(dx) > Math.abs(dy)) return;

        // è·å–å½“å‰æ»šåŠ¨å®¹å™¨
        const target = e.target.closest('#mainScroll') || e.target.closest('#nav');

        if (target === main) {
            // åœ¨æ»šåŠ¨åŒºåŸŸå†…
            const atTop = main.scrollTop <= 0;
            const atBottom = main.scrollTop + main.clientHeight >= main.scrollHeight - 1;

            if (atTop && dy > 0) {
                // åœ¨é¡¶éƒ¨ä¸‹æ‹‰ â†’ æ­»æ­»é˜»æ­¢
                e.preventDefault();
                e.stopPropagation();
            } else if (atBottom && dy < 0) {
                // åœ¨åº•éƒ¨ä¸Šæ‹‰ â†’ é˜»æ­¢è§¦å‘ç³»ç»Ÿåˆ·æ–°
                e.preventDefault();
                e.stopPropagation();
            }
        } else {
            // åœ¨éæ»šåŠ¨åŒºåŸŸï¼ˆheaderç­‰ï¼‰â†’ å…¨éƒ¨é˜»æ­¢
            e.preventDefault();
            e.stopPropagation();
        }
    }, { passive: false });

    // 2. é˜»æ­¢ overscroll
    document.addEventListener('scroll', function() {
        if (window.scrollY !== 0) window.scrollTo(0, 0);
    }, { passive: true });

    // 3. CSS æ–¹å¼å…œåº•ï¼ˆé€šè¿‡JSåŠ¨æ€æ³¨å…¥ï¼Œç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ï¼‰
    const style = document.createElement('style');
    style.textContent = `
        html, body {
            overscroll-behavior: none !important;
            overscroll-behavior-y: none !important;
            overflow: hidden !important;
            position: fixed !important;
            width: 100% !important;
            height: 100% !important;
        }
        #mainScroll {
            overscroll-behavior: contain !important;
            overscroll-behavior-y: contain !important;
            -webkit-overflow-scrolling: touch !important;
        }
    `;
    document.head.appendChild(style);
})();
// ================================

const ACCESS_PASS = "114514"; 
const ADMIN_PASS = "tianxiao"; 
const PAGE_SIZE = 10;
const FAV_KEY = "TX_FAVORITES";
const APP_VERSION = "3.0.0"; // Worker äº‘ç«¯åŒæ­¥ç‰ˆæœ¬
const VERSION_KEY = "TX_APP_VERSION";

// ===== Cloudflare Worker API =====
const WORKER_API = "https://api.tianxiao.qzz.io/api/data";
// ===================================

let isEditMode = false;
let currentCat = "all";
let currentPage = 1;
let maxPageCount = 1;
let favorites = new Set(); // æ”¶è—åˆ—è¡¨ï¼ˆå­˜å‚¨å¡ç‰‡IDï¼‰

// æ£€æŸ¥ç‰ˆæœ¬æ›´æ–°
function checkForUpdates() {
    const savedVersion = localStorage.getItem(VERSION_KEY);
    
    if (!savedVersion) {
        // é¦–æ¬¡å®‰è£…
        localStorage.setItem(VERSION_KEY, APP_VERSION);
        console.log('âœ… é¦–æ¬¡å®‰è£…ï¼Œç‰ˆæœ¬:', APP_VERSION);
        return;
    }
    
    if (savedVersion !== APP_VERSION) {
        // æ£€æµ‹åˆ°æ–°ç‰ˆæœ¬
        console.log('ğŸ”„ æ£€æµ‹åˆ°æ›´æ–°:', savedVersion, 'â†’', APP_VERSION);
        showUpdateNotification(savedVersion, APP_VERSION);
        localStorage.setItem(VERSION_KEY, APP_VERSION);
    }
}

// æ˜¾ç¤ºæ›´æ–°é€šçŸ¥
function showUpdateNotification(oldVer, newVer) {
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px 25px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        z-index: 9999;
        font-size: 14px;
        font-weight: bold;
        animation: slideDown 0.5s ease;
    `;
    notification.innerHTML = `
        ğŸ‰ åº”ç”¨å·²æ›´æ–°ï¼
        <span style="opacity: 0.8; font-size: 12px; margin-left: 8px;">
        ${oldVer} â†’ ${newVer}
        </span>
    `;
    document.body.appendChild(notification);
    
    // æ·»åŠ åŠ¨ç”»
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideDown {
            from { top: -100px; opacity: 0; }
            to { top: 20px; opacity: 1; }
        }
    `;
    document.head.appendChild(style);
    
    // 5ç§’åè‡ªåŠ¨æ¶ˆå¤±
    setTimeout(() => {
        notification.style.animation = 'slideDown 0.5s ease reverse';
        setTimeout(() => notification.remove(), 500);
    }, 5000);
}

// æ˜¾ç¤ºèµ„æºåŠ è½½é€šçŸ¥
function showLoadNotification(message, isSuccess) {
    const notification = document.createElement('div');
    const bgColor = isSuccess ? 
        'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : 
        'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
    
    notification.style.cssText = `
        position: fixed;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        background: ${bgColor};
        color: white;
        padding: 12px 20px;
        border-radius: 10px;
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        z-index: 9999;
        font-size: 13px;
        font-weight: bold;
        animation: fadeInUp 0.4s ease;
        max-width: 80%;
        text-align: center;
    `;
    notification.innerHTML = message;
    document.body.appendChild(notification);
    
    // æ·»åŠ åŠ¨ç”»
    if (!document.getElementById('loadNotifStyle')) {
        const style = document.createElement('style');
        style.id = 'loadNotifStyle';
        style.textContent = `
            @keyframes fadeInUp {
                from { bottom: 50px; opacity: 0; }
                to { bottom: 80px; opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    }
    
    // 3ç§’åè‡ªåŠ¨æ¶ˆå¤±
    setTimeout(() => {
        notification.style.animation = 'fadeInUp 0.4s ease reverse';
        setTimeout(() => notification.remove(), 400);
    }, 3000);
}

// å¼ºåˆ¶åˆ·æ–°ç¼“å­˜
function clearCacheAndReload() {
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
                registration.unregister();
            }
        });
    }
    
    if ('caches' in window) {
        caches.keys().then(function(names) {
            for (let name of names) caches.delete(name);
        });
    }
    
    alert('âœ… ç¼“å­˜å·²æ¸…é™¤ï¼é¡µé¢å³å°†åˆ·æ–°');
    location.reload(true);
}

// ===== äº‘ç«¯è¯»å†™æ ¸å¿ƒå‡½æ•° =====

// ä»äº‘ç«¯è¯»å–æ•°æ®
async function loadFromGrave() {
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), 5000);

    let loadSuccess = false;
    let loadMessage = "";

    try {
        const res = await fetch(WORKER_API + "?t=" + Date.now(), {
            signal: controller.signal
        });
        clearTimeout(timeoutId);
        
        if (res.ok) {
            const json = await res.json();
            // Workerè¿”å›çš„æ˜¯GitHub APIæ ¼å¼
            let content;
            try {
                const bytes = Uint8Array.from(atob(json.content.replace(/\n/g, "")), c => c.charCodeAt(0));
                content = JSON.parse(new TextDecoder().decode(bytes));
            } catch(e) {
                content = JSON.parse(decodeURIComponent(escape(atob(json.content.replace(/\n/g, "")))));
            }
            if (content.cards) {
        document.getElementById("box").innerHTML = content.cards;
        
        // ğŸ”§ ä¿®å¤ï¼šç¡®ä¿æ‰€æœ‰å¡ç‰‡éƒ½åŒ…å«ç®€ä»‹åŒºåŸŸ
        ensureDescriptionAreas();
        
        const cardCount = document.querySelectorAll('.card').length;
        loadSuccess = true;
        loadMessage = `âœ… å·²åŠ è½½ ${cardCount} ä¸ªèµ„æº`;
    }
            window._ghSha = json.sha;
            console.log("âœ… äº‘ç«¯æ•°æ®å·²åŒæ­¥");
        } else {
            throw new Error("HTTP " + res.status);
        }
    } catch(e) {
        clearTimeout(timeoutId);
        console.log("âš ï¸ äº‘ç«¯åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜:", e.message);
        const cached = localStorage.getItem("TX_CACHE");
        if (cached) {
            document.getElementById("box").innerHTML = cached;
            const cardCount = document.querySelectorAll('.card').length;
            loadSuccess = false;
            loadMessage = `âš ï¸ äº‘ç«¯è¿æ¥å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜ (${cardCount}ä¸ª)`;
        } else {
            loadSuccess = false;
            loadMessage = "âŒ æ— æ³•åŠ è½½èµ„æºï¼Œè¯·æ£€æŸ¥ç½‘ç»œ";
        }
    }

    // åŠ è½½æ”¶è—
    const savedFav = localStorage.getItem(FAV_KEY);
    if (savedFav) {
        try { favorites = new Set(JSON.parse(savedFav)); } catch(e) { favorites = new Set(); }
    }
    initCardFavorites();
    refreshUI();

    // æ˜¾ç¤ºåŠ è½½ç»“æœæç¤º
    if (loadMessage) {
        showLoadNotification(loadMessage, loadSuccess);
    }
}

// ä¿å­˜åˆ°äº‘ç«¯ï¼ˆé€šè¿‡Workerï¼‰
async function saveToCloud() {
    // ç¡®ä¿æ‰€æœ‰å¡ç‰‡éƒ½åŒ…å«ç®€ä»‹åŒºåŸŸ
    const cards = document.getElementById("box").innerHTML;
    const payload = JSON.stringify({ cards, updated: new Date().toISOString() });
    
    let encoded;
    try {
        encoded = btoa(String.fromCharCode(...new TextEncoder().encode(payload)));
    } catch(e) {
        encoded = btoa(unescape(encodeURIComponent(payload)));
    }

    const body = {
        message: "ğŸ“¦ æ›´æ–°èµ„æºåº“ " + new Date().toLocaleString("zh-CN"),
        content: encoded
    };
    if (window._ghSha) body.sha = window._ghSha;

    showToast("â³ æ­£åœ¨ä¿å­˜åˆ°äº‘ç«¯...", 0);
    
    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), 10000);
    
    try {
        const res = await fetch(WORKER_API, {
            method: "PUT",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify(body),
            signal: controller.signal
        });
        clearTimeout(timeoutId);
        
        if (res.ok) {
            const json = await res.json();
            window._ghSha = json.content.sha;
            localStorage.setItem("TX_CACHE", cards);
            showToast("âœ… å·²åŒæ­¥åˆ°äº‘ç«¯ï¼æ‰€æœ‰äººå°†çœ‹åˆ°æœ€æ–°å†…å®¹");
        } else {
            const err = await res.json();
            throw new Error(err.error || "ä¿å­˜å¤±è´¥");
        }
    } catch(e) {
        clearTimeout(timeoutId);
        localStorage.setItem("TX_CACHE", cards);
        
        if (e.name === 'AbortError') {
            showToast("âš ï¸ ç½‘ç»œè¶…æ—¶ï¼Œå·²ä¿å­˜åˆ°æœ¬åœ°");
        } else {
            showToast("âš ï¸ äº‘ç«¯ä¿å­˜å¤±è´¥ï¼š" + e.message);
        }
        console.error("ä¿å­˜é”™è¯¯:", e);
    }
}

// å¯¼å‡ºHTMLå¤‡ä»½
function exportHTML() {
    const was = isEditMode;
    if (was) {
        document.querySelectorAll(".g-name, .g-tags, .link-text, .desc-text").forEach(el => {
            el.contentEditable = "false";
            el.removeAttribute("contenteditable");
        });
    }
    
    const gate = document.getElementById("gateKeeper");
    const wasGate = gate.style.display;
    gate.style.display = "flex";
    
    const clone = document.documentElement.cloneNode(true);
    clone.querySelector("#search").value = "";
    clone.querySelector("body").classList.remove("admin-mode");
    clone.querySelector("#adminBar").style.display = "none";
    
    const blob = new Blob(["<!DOCTYPE html>\n" + clone.outerHTML], {type: "text/html"});
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "tianxiao-backup-" + Date.now() + ".html";
    a.click();
    
    gate.style.display = wasGate;
    if (was) {
        document.querySelectorAll(".g-name, .g-tags, .link-text").forEach(el => {
            el.contentEditable = "true";
        });
    }
    
    showToast("âœ… å¤‡ä»½å·²å¯¼å‡º");
}

// æœ¬åœ°è‡ªåŠ¨ç¼“å­˜
function autoSave() {
    const data = document.getElementById("box").innerHTML;
    localStorage.setItem("TX_CACHE", data);
    // ğŸ› ä¿®å¤ï¼šä¿å­˜åé‡æ–°ç”Ÿæˆé“¾æ¥æŒ‰é’®ï¼Œç¡®ä¿æŒ‰é’®æŒ‡å‘æœ€æ–°çš„é“¾æ¥
    addLinkJumpButtons();
}

// Toastæç¤ºï¼ˆä¿ç•™ï¼‰
let _toastTimer = null;
function showToast(msg, duration = 2500) {
    let toast = document.getElementById("_ghToast");
    if (!toast) {
        toast = document.createElement("div");
        toast.id = "_ghToast";
        toast.style.cssText = `
            position:fixed;top:20px;left:50%;transform:translateX(-50%);
            background:rgba(30,30,30,0.92);color:#fff;padding:10px 22px;
            border-radius:20px;font-size:13px;z-index:9999;
            box-shadow:0 4px 15px rgba(0,0,0,0.3);transition:opacity 0.3s;
            white-space:nowrap;pointer-events:none;
        `;
        document.body.appendChild(toast);
    }
    toast.textContent = msg;
    toast.style.opacity = "1";
    if (_toastTimer) clearTimeout(_toastTimer);
    if (duration > 0) {
        _toastTimer = setTimeout(() => { toast.style.opacity = "0"; }, duration);
    }
}

function refreshUI(targetPage) {
    if(targetPage) {
        currentPage = targetPage;
        goTop();
    }
    const searchVal = document.getElementById("search").value.toUpperCase();
    const box = document.getElementById("box");
    const allCards = Array.from(box.querySelectorAll(".card"));
    
    // 1. è¿‡æ»¤é€»è¾‘
    let filtered = allCards.filter(c => {
        const txt = c.innerText.toUpperCase();
        const matchCat = (currentCat === "all" || txt.includes(currentCat));
        const matchSearch = txt.includes(searchVal);
        
        // æ”¶è—åˆ†åŒºï¼šåªæ˜¾ç¤ºå·²æ”¶è—çš„å¡ç‰‡
        if (currentCat === 'æ”¶è—') {
            const cardId = c.dataset.cardId;
            return cardId && favorites.has(cardId) && matchSearch;
        }
        
        return matchCat && matchSearch;
    });

    // 2. âœ¨ æ ¸å¿ƒæ’åºä¿®å¤ï¼šä½¿ç”¨ Array.sort é‡æ–°ç¡®å®šæ•°ç»„é¡ºåº
    filtered.sort((a, b) => {
        const aP = a.classList.contains("is-pinned") ? 1 : 0;
        const bP = b.classList.contains("is-pinned") ? 1 : 0;
        return bP - aP; // ç½®é¡¶æƒé‡æœ€é«˜
    });

    // 3. âœ¨ å…³é”®æ­¥éª¤ï¼šæ ¹æ®æ’åºç»“æœï¼ŒåŠ¨æ€ç»™ DOM å…ƒç´ åˆ†é… order æƒé‡
    // å¼ºåˆ¶ç½®é¡¶çš„ order ä¸ºæå°å€¼ï¼Œæ™®é€šå¡ç‰‡æŒ‰ç…§å®ƒä»¬åœ¨æ•°ç»„ä¸­çš„é¡ºåºåˆ†é…é€’å¢çš„ order
    filtered.forEach((card, index) => {
        if (card.classList.contains("is-pinned")) {
            card.style.order = "-1000"; // ç»å¯¹ç½®é¡¶
        } else {
            card.style.order = index; // ä¿æŒè¿‡æ»¤åçš„è‡ªç„¶é¡ºåº
        }
    });

    allCards.forEach(c => c.classList.remove("active-render"));
    const pagContainer = document.getElementById("pagination");
    maxPageCount = Math.ceil(filtered.length / PAGE_SIZE);
    
    if(currentPage > maxPageCount && maxPageCount > 0) currentPage = maxPageCount;

    const start = (currentPage - 1) * PAGE_SIZE;
    filtered.slice(start, start + PAGE_SIZE).forEach(c => c.classList.add("active-render"));

    document.getElementById("prevPageBtn").classList.toggle("show", currentPage > 1);
    document.getElementById("nextPageBtn").classList.toggle("show", currentPage < maxPageCount);

    pagContainer.innerHTML = "";
    if (maxPageCount > 1) {
        let numHtml = `<div class="page-numbers">`;
        let startPage = Math.max(1, currentPage - 2);
        let endPage = Math.min(maxPageCount, startPage + 4);
        if (endPage === maxPageCount) startPage = Math.max(1, maxPageCount - 4);
        
        if (startPage > 1) {
            numHtml += `<div class="page-item" onclick="refreshUI(1)">1</div>`;
            if (startPage > 2) numHtml += `<div class="page-dot">...</div>`;
        }
        for (let i = startPage; i <= endPage; i++) {
            numHtml += `<div class="page-item ${i === currentPage ? 'active' : ''}" onclick="refreshUI(${i})">${i}</div>`;
        }
        if (endPage < maxPageCount) {
            if (endPage < maxPageCount - 1) numHtml += `<div class="page-dot">...</div>`;
            numHtml += `<div class="page-item" onclick="refreshUI(${maxPageCount})">${maxPageCount}</div>`;
        }
        numHtml += `</div>`;

        let funcHtml = `
            <div class="page-jump-row">
                <span>è·³è‡³</span>
                <input type="number" class="page-jump" placeholder="é¡µç ..." onkeydown="if(event.keyCode==13) { let p=parseInt(this.value); if(p>0 && p<=${maxPageCount}) refreshUI(p); else alert('æ²¡æœ‰è¿™ä¸€é¡µï¼'); }">
                <span>/ å…± ${maxPageCount} é¡µ</span>
            </div>`;

        pagContainer.innerHTML = numHtml + funcHtml;
    }

    if(isEditMode) autoSave();
    
    // ğŸ”— ä¸ºæ‰€æœ‰link-wrapæ·»åŠ è·³è½¬æŒ‰é’®
    addLinkJumpButtons();
}

function navPage(dir) {
    let target = currentPage + dir;
    if(target >= 1 && target <= maxPageCount) refreshUI(target);
}

function verifyAccess() {
    if(document.getElementById("accessPass").value === ACCESS_PASS) document.getElementById("gateKeeper").style.display = "none";
    else alert("ä½ å¥½åƒä¸æ˜¯è‡ªå·±äººï¼Œè‡ªç”±ä¹‹åœ°ä¸æ¬¢è¿ä½ â™‚");
}

function filterTab(cat, el) {
    document.querySelectorAll("#nav li").forEach(li => li.classList.remove("active"));
    el.classList.add("active");
    currentCat = cat;
    refreshUI(1); 
}

function handleScroll() {
    const main = document.getElementById("mainScroll");
    const rocket = document.getElementById("rocket");
    if (main.scrollTop > 300) rocket.classList.add("show");
    else rocket.classList.remove("show");
}

function goTop() { document.getElementById("mainScroll").scrollTo({ top: 0, behavior: 'smooth' }); }

function openLogin() { if(!isEditMode) document.getElementById("loginModal").style.display = "flex"; }
function closeLogin() { document.getElementById("loginModal").style.display = "none"; document.getElementById("passInput").value = ""; }
function checkPass() {
    if(document.getElementById("passInput").value === ADMIN_PASS) { enterAdmin(); closeLogin(); }
    else { alert("ä½ è¿˜æƒ³å†’å……å¤©ç¬‘æˆ‘?å»é¹¿å§ä½ ï¼"); closeLogin(); }
}

function enterAdmin() {
    isEditMode = true; 
    document.body.classList.add("admin-mode");
    document.getElementById("adminBar").style.display = "flex";
    document.getElementById("entryBtn").style.visibility = "hidden";
    
    document.querySelectorAll(".card").forEach(card => {
        if (!card.querySelector(".pin-btn")) {
            const pin = document.createElement("div");
            pin.className = "pin-btn";
            pin.innerHTML = "ğŸ“Œ";
            pin.onclick = function() { togglePin(this); };
            card.prepend(pin);
        }
        const delBtn = card.querySelector(".del-btn");
        if (delBtn) delBtn.onclick = function() { deleteCard(this); };
    });

    document.querySelectorAll(".g-name, .g-tags, .link-text, .desc-text").forEach(el => el.contentEditable = "true");
    // ğŸ› ä¿®å¤ï¼šä¸ºæ‰€æœ‰æ ‡ç­¾å…ƒç´ ç»‘å®šç²˜è´´å¤„ç†
    document.querySelectorAll(".g-tags").forEach(el => {
        el.onpaste = handleTagPaste;
    });
    refreshUI();
}

function exitAdmin() {
    isEditMode = false; document.body.classList.remove("admin-mode");
    document.getElementById("adminBar").style.display = "none";
    document.getElementById("entryBtn").style.visibility = "visible";
    document.querySelectorAll(".g-name, .g-tags, .link-text, .desc-text").forEach(el => {
        el.contentEditable = "false";
        el.removeAttribute("contenteditable");
    });
    autoSave();
    refreshUI();
}

function togglePin(btn) {
    const card = btn.parentElement;
    card.classList.toggle("is-pinned");
    // âœ¨ æ ¸å¿ƒä¿®å¤ï¼šç‚¹å‡»ç½®é¡¶åç«‹åˆ»é‡æ’ order æƒé‡
    refreshUI();
    autoSave();
}

function deleteCard(btn) {
    const card = btn.parentElement;
    const cardName = card.querySelector('.g-name').innerText;
    if (confirm(`âš ï¸ ç¡®å®šè¦åˆ é™¤èµ„æºã€${cardName}ã€‘å—ï¼Ÿ`)) {
        card.remove();
        alert("âœ… å·²æˆåŠŸåˆ é™¤ï¼");
        refreshUI();
        autoSave();
    }
}

function addCard() {
    const div = document.createElement("div");
    div.className = "card";
    let defaultTag = currentCat === 'all' ? 'ACT' : currentCat;
    
    div.innerHTML = `
        <div class="pin-btn" onclick="togglePin(this)">ğŸ“Œ</div>
        <div class="del-btn" onclick="deleteCard(this)">Ã—</div>
        <div class="slider-box">
            <button class="edit-img-btn" onclick="editCurrentImg(this)">ğŸ”— æ›´æ¢å›¾ç‰‡</button>
            <button class="slide-btn prev" onclick="changeSlide(this, -1)">â€¹</button>
            <img class="active" loading="lazy" src="https://via.placeholder.com">
            <img loading="lazy" src="https://via.placeholder.com">
            <img loading="lazy" src="https://via.placeholder.com">
            <button class="slide-btn next" onclick="changeSlide(this, 1)">â€º</button>
            <div class="img-index">1 / 3</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
            <div class="fav-btn" onclick="toggleFavorite(this)">ğŸ¤</div>
        </div>
        <div class="info-box">
            <div class="g-name">æ ‡é¢˜...</div>
            <div class="g-tags" onpaste="handleTagPaste(event)">æ ‡ç­¾: ${defaultTag}</div>
            <div class="link-wrap">
                <div class="link-text"></div>
                <div class="expand-btn" onclick="toggleExpand(this)">å±•å¼€ â–¾</div>
            </div>
            <div class="desc-wrap">
                <div class="desc-text"></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            </div>
        </div>
    `;
    // ç‰©ç†æ’å…¥ä½ç½®ä¸é‡è¦äº†ï¼Œå› ä¸º refreshUI ä¼šé  order å¼ºåˆ¶ä¿®æ­£ä½ç½®
    document.getElementById("box").prepend(div);
    
    // ä¸ºæ–°å¡ç‰‡åˆ†é…ID
    div.dataset.cardId = 'card_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    
    // ğŸ”’ å®‰å…¨ä¿®å¤ï¼šä»…åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹è®¾ç½®ä¸ºå¯ç¼–è¾‘
    if (isEditMode) {
        div.querySelectorAll(".g-name, .g-tags, .link-text, .desc-text").forEach(el => el.contentEditable = "true");
    }
    
    document.getElementById("search").value = ""; 
    
    // âœ¨ æ ¸å¿ƒä¿®å¤ï¼šæ–°å¢åç«‹å³åˆ·æ–°ä»¥åº”ç”¨æœ€æ–°çš„ order æƒé‡
    refreshUI(1);
}

function changeSlide(btn, dir) {
    const box = btn.parentElement;
    const imgs = box.querySelectorAll('img');
    const indexTag = box.querySelector('.img-index');
    let idx = Array.from(imgs).findIndex(img => img.classList.contains('active'));
    imgs[idx].classList.remove('active');
    idx = (idx + dir + imgs.length) % imgs.length;
    imgs[idx].classList.add('active');
    indexTag.innerText = `${idx + 1} / ${imgs.length}`;
}

function editCurrentImg(btn) {
    const activeImg = btn.parentElement.querySelector('img.active');
    const url = prompt("ğŸ–¼ï¸ è¾“å…¥å›¾ç‰‡URL:", activeImg.src);
    if(url && url.startsWith('http')) {
        activeImg.src = url;
        autoSave();
    }
}

function toggleExpand(btn) {
    const wrap = btn.parentElement;
    wrap.classList.toggle('expanded');
    btn.innerText = wrap.classList.contains('expanded') ? "æ”¶èµ· â–´" : "å±•å¼€ â–¾";
}

// ç®€ä»‹å±•å¼€/æ”¶èµ·åŠŸèƒ½
function toggleDescExpand(btn) {
    const wrap = btn.parentElement;
    wrap.classList.toggle('expanded');
    btn.innerText = wrap.classList.contains('expanded') ? "æ”¶èµ·ç®€ä»‹ â–´" : "å±•å¼€ç®€ä»‹ â–¾";
}

// ï¿½ ä¿®å¤ï¼šç¡®ä¿æ‰€æœ‰å¡ç‰‡éƒ½åŒ…å«ç®€ä»‹åŒºåŸŸ
function ensureDescriptionAreas() {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        const infoBox = card.querySelector('.info-box');
        if (infoBox && !infoBox.querySelector('.desc-wrap')) {
            // å¦‚æœå¡ç‰‡æ²¡æœ‰ç®€ä»‹åŒºåŸŸï¼Œå°±æ·»åŠ ä¸€ä¸ª
            const descWrap = document.createElement('div');
            descWrap.className = 'desc-wrap';
            descWrap.innerHTML = `
                <div class="desc-text"></div>
                <div class="desc-expand-btn" onclick="toggleDescExpand(this)">å±•å¼€ç®€ä»‹ â–¾</div>
            `;
            infoBox.appendChild(descWrap);
        }
    });
}

// ï¿½ğŸ› ä¿®å¤ï¼šå¤„ç†æ ‡ç­¾ç²˜è´´ï¼Œæ¸…ç†æ ¼å¼
function handleTagPaste(event) {
    event.preventDefault();
    const text = (event.clipboardData || window.clipboardData).getData('text');
    // æ¸…ç†æ–‡æœ¬ï¼šå»é™¤å¤šä½™ç©ºæ ¼ã€æ¢è¡Œã€HTMLæ ‡ç­¾
    const cleanText = text.replace(/\s+/g, ' ').replace(/<[^>]*>/g, '').trim();
    // å¦‚æœä¸æ˜¯ä»¥"æ ‡ç­¾:"å¼€å¤´ï¼Œè‡ªåŠ¨æ·»åŠ 
    const finalText = cleanText.startsWith('æ ‡ç­¾:') ? cleanText : `æ ‡ç­¾: ${cleanText}`;
    document.execCommand('insertText', false, finalText);
    autoSave();
}

// ğŸ’– æ”¶è—åŠŸèƒ½
function initCardFavorites() {
    const allCards = document.querySelectorAll('.card');
    allCards.forEach((card, index) => {
        // ä¸ºæ¯ä¸ªå¡ç‰‡åˆ†é…å”¯ä¸€IDï¼ˆå¦‚æœæ²¡æœ‰çš„è¯ï¼‰
        if (!card.dataset.cardId) {
            card.dataset.cardId = 'card_' + Date.now() + '_' + index;
        }
        
        // æ£€æŸ¥æ˜¯å¦å·²æœ‰æ”¶è—æŒ‰é’®
        if (!card.querySelector('.fav-btn')) {
            const favBtn = document.createElement('div');
            favBtn.className = 'fav-btn';
            const cardId = card.dataset.cardId;
            favBtn.innerHTML = favorites.has(cardId) ? 'ğŸ’–' : 'ğŸ¤';
            if (favorites.has(cardId)) favBtn.classList.add('favorited');
            favBtn.onclick = function() { toggleFavorite(this); };
            
            // æ’å…¥åˆ°å¡ç‰‡é¡¶éƒ¨ï¼ˆåœ¨pinæŒ‰é’®ä¹‹åï¼‰
            const sliderBox = card.querySelector('.slider-box');
            if (sliderBox) {
                sliderBox.appendChild(favBtn);
            } else {
                card.prepend(favBtn);
            }
        }
    });
}

function toggleFavorite(btn) {
    const card = btn.closest('.card');
    const cardId = card.dataset.cardId;
    
    if (!cardId) return;
    
    if (favorites.has(cardId)) {
        // å–æ¶ˆæ”¶è—
        favorites.delete(cardId);
        btn.innerHTML = 'ğŸ¤';
        btn.classList.remove('favorited');
    } else {
        // æ·»åŠ æ”¶è—
        favorites.add(cardId);
        btn.innerHTML = 'ğŸ’–';
        btn.classList.add('favorited');
    }
    
    // ä¿å­˜æ”¶è—æ•°æ®
    saveFavorites();
    
    // å¦‚æœå½“å‰åœ¨æ”¶è—åˆ†åŒºï¼Œåˆ·æ–°æ˜¾ç¤º
    if (currentCat === 'æ”¶è—') {
        refreshUI();
    }
}

function saveFavorites() {
    localStorage.setItem(FAV_KEY, JSON.stringify([...favorites]));
}

// ğŸ”— ä¸ºæ‰€æœ‰å¡ç‰‡æ·»åŠ è·³è½¬æŒ‰é’®
function addLinkJumpButtons() {
    document.querySelectorAll('.link-wrap').forEach(wrap => {
        const linkText = wrap.querySelector('.link-text');
        const expandBtn = wrap.querySelector('.expand-btn');
        
        if (!linkText || !expandBtn) return;
        
        // ğŸ› ä¿®å¤ï¼šåˆ é™¤æ—§æŒ‰é’®ï¼Œé‡æ–°ç”Ÿæˆ
        const oldActions = wrap.querySelector('.link-actions');
        if (oldActions) oldActions.remove();
        
        // æå–é“¾æ¥
        const text = linkText.innerText || linkText.textContent;
        const urls = extractUrls(text);
        
        if (urls.length === 0) return; // æ²¡æœ‰é“¾æ¥å°±ä¸æ·»åŠ æŒ‰é’®
        
        // åˆ›å»ºæŒ‰é’®å®¹å™¨
        const actionsDiv = document.createElement('div');
        actionsDiv.className = 'link-actions';
        
        if (urls.length === 1) {
            // å•ä¸ªé“¾æ¥ï¼šæ˜¾ç¤ºä¸€ä¸ªè·³è½¬æŒ‰é’®ï¼ˆä½¿ç”¨æ™ºèƒ½å¤„ç†ï¼‰
            const processedUrl = processCloudLink(urls[0]);
            actionsDiv.innerHTML = `<button class="link-jump-btn" onclick="window.open('${processedUrl}', '_blank')">ğŸ”— æ‰“å¼€é“¾æ¥</button>`;
        } else {
            // å¤šä¸ªé“¾æ¥ï¼šæ˜¾ç¤ºé€‰æ‹©æŒ‰é’®ï¼ˆæ‰€æœ‰é“¾æ¥éƒ½ç»è¿‡æ™ºèƒ½å¤„ç†ï¼‰
            const processedUrls = urls.map(url => processCloudLink(url));
            const urlsJson = JSON.stringify(processedUrls).replace(/'/g, "\\'");
            actionsDiv.innerHTML = `<button class="link-jump-btn" onclick='showLinkSelector(${urlsJson})'>ğŸ”— é€‰æ‹©é“¾æ¥ (${urls.length}ä¸ª)</button>`;
        }
        
        // æ’å…¥åˆ°å±•å¼€æŒ‰é’®ä¹‹å‰
        wrap.insertBefore(actionsDiv, expandBtn);
    });
}

// æ™ºèƒ½å¤„ç†ç½‘ç›˜é“¾æ¥
function processCloudLink(url) {
    // ğŸ› ä¿®å¤ï¼šä¸å†å°è¯•ä»URLä¸­æå–æå–ç ï¼Œç›´æ¥è¿”å›åŸå§‹URL
    // æå–ç åº”è¯¥åœ¨é“¾æ¥æ–‡æœ¬çš„è¯´æ˜ä¸­ï¼Œä¸åœ¨URLæœ¬èº«
    
    try {
        // åŸºæœ¬URLéªŒè¯
        const urlObj = new URL(url);
        
        // åªåšåŸºæœ¬çš„æ ¼å¼æ£€æŸ¥ï¼Œä¸ä¿®æ”¹URL
        if (!urlObj.protocol.match(/^https?:$/)) {
            console.warn('Invalid protocol:', url);
            return url;
        }
        
        // è¿”å›åŸå§‹URLï¼Œä¸åšä»»ä½•å¤„ç†
        return url;
        
    } catch (e) {
        // URLæ ¼å¼é”™è¯¯ï¼Œè¿”å›åŸå€¼
        console.error('Invalid URL:', url, e);
        return url;
    }
}

// ä»æ–‡æœ¬ä¸­æå–æ‰€æœ‰URL
function extractUrls(text) {
    // ğŸ› ä¿®å¤ï¼šæ›´ä¸¥æ ¼çš„URLåŒ¹é…ï¼Œé¿å…æå–åˆ°ä¸å®Œæ•´çš„URL
    const urlPattern = /(https?:\/\/[a-zA-Z0-9][a-zA-Z0-9\-._~:/?#\[\]@!$&'()*+,;=%]+)/g;
    const matches = text.match(urlPattern);
    if (!matches) return [];
    
    // æ¸…ç†URLæœ«å°¾çš„æ ‡ç‚¹å’ŒéªŒè¯URL
    return matches
        .map(url => {
            // å»é™¤æœ«å°¾æ ‡ç‚¹
            let cleanUrl = url.replace(/[,ï¼Œã€‚.;ï¼›!ï¼?ï¼Ÿ\)ï¼‰\]ã€‘}>ã€‹\'"]+$/, '');
            // å»é™¤å¼€å¤´å¯èƒ½è¯¯åŒ¹é…çš„å†…å®¹
            cleanUrl = cleanUrl.replace(/^[^\w:]*/, '');
            return cleanUrl;
        })
        .filter(url => {
            // éªŒè¯URLæ˜¯å¦å®Œæ•´ä¸”å¯ç”¨
            try {
                const urlObj = new URL(url);
                // ç¡®ä¿æœ‰æœ‰æ•ˆçš„ä¸»æœºå
                return urlObj.hostname.length > 0 && urlObj.hostname.includes('.');
            } catch(e) {
                return false;
            }
        })
        // å»é‡
        .filter((url, index, self) => self.indexOf(url) === index);
}

// æ˜¾ç¤ºå¤šé“¾æ¥é€‰æ‹©å™¨
function showLinkSelector(urls) {
    const modal = document.createElement('div');
    modal.className = 'modal-overlay';
    modal.style.display = 'flex';
    
    let linksHtml = urls.map((url, idx) => {
        const processedUrl = processCloudLink(url);
        const shortUrl = processedUrl.length > 60 ? processedUrl.substring(0, 60) + '...' : processedUrl;
        return `<div style="margin: 8px 0;">
            <button class="modal-btn btn-confirm" onclick="window.open('${processedUrl}', '_blank'); this.closest('.modal-overlay').remove();" style="width: 100%; text-align: left; padding: 12px; word-break: break-all;">
                ${idx + 1}. ${shortUrl}
            </button>
        </div>`;
    }).join('');
    
    modal.innerHTML = `
        <div class="modal-box" style="max-width: 450px;">
            <div class="modal-title">ğŸ”— é€‰æ‹©è¦æ‰“å¼€çš„é“¾æ¥ (å…±${urls.length}ä¸ª)</div>
            <div style="max-height: 400px; overflow-y: auto;">
                ${linksHtml}
            </div>
            <div style="margin-top: 15px;">
                <button class="modal-btn btn-cancel" onclick="this.closest('.modal-overlay').remove()" style="width: 100%;">å–æ¶ˆ</button>
            </div>
        </div>
    `;
    
    document.body.appendChild(modal);
    
    // ç‚¹å‡»èƒŒæ™¯å…³é—­
    modal.addEventListener('click', function(e) {
        if (e.target === modal) {
            modal.remove();
        }
    });
}

function savePage() {
    const was = isEditMode; exitAdmin();
    const gate = document.getElementById("gateKeeper");
    const wasGate = gate.style.display;
    gate.style.display = "flex"; 
    const clone = document.documentElement.cloneNode(true);
    clone.querySelector("#search").value = "";
    const blob = new Blob(["<!DOCTYPE html>\n" + clone.outerHTML], {type: "text/html"});
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "å¤©ç¬‘æ“ä½œç§˜å¯†åŸºåœ°.html";
    a.click();
    gate.style.display = wasGate;
    if(was) enterAdmin();
}

window.onload = async () => { 
    checkForUpdates();
    await loadFromGrave();
    // ğŸ”’ å®‰å…¨ä¿®å¤ï¼šé¡µé¢åŠ è½½æ—¶ç¡®ä¿éç®¡ç†å‘˜æ¨¡å¼ä¸‹æ‰€æœ‰å…ƒç´ ä¸å¯ç¼–è¾‘
    if (!isEditMode) {
        document.querySelectorAll(".g-name, .g-tags, .link-text, .desc-text").forEach(el => {
            el.contentEditable = "false";
            el.removeAttribute("contenteditable");
        });
    }
    
    // ğŸ“± æ³¨å†ŒService Workerï¼ˆPWAæ”¯æŒï¼‰
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register(createServiceWorkerBlob()).then(function(registration) {
            console.log('âœ… PWAå·²æ¿€æ´»ï¼å¯ä»¥æ·»åŠ åˆ°ä¸»å±å¹•äº†');
            
            // ç›‘å¬Service Workeræ›´æ–°
            registration.addEventListener('updatefound', () => {
                const newWorker = registration.installing;
                newWorker.addEventListener('statechange', () => {
                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                        // æœ‰æ–°ç‰ˆæœ¬å¯ç”¨
                        if (confirm('ğŸ‰ å‘ç°æ–°ç‰ˆæœ¬ï¼æ˜¯å¦ç«‹å³æ›´æ–°ï¼Ÿ')) {
                            newWorker.postMessage({ action: 'skipWaiting' });
                            window.location.reload();
                        }
                    }
                });
            });
        }).catch(function(err) {
            console.log('Service Workeræ³¨å†Œå¤±è´¥:', err);
        });
    }
    
    // æ˜¾ç¤ºå®‰è£…æç¤º
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        showInstallButton();
    });
};

// åˆ›å»ºå†…è”Service Worker
function createServiceWorkerBlob() {
    const swCode = `
        const CACHE_NAME = 'tianxiao-cache-v1';
        const urlsToCache = ['/'];
        
        self.addEventListener('install', event => {
            event.waitUntil(
                caches.open(CACHE_NAME).then(cache => cache.addAll(urlsToCache))
            );
        });
        
        self.addEventListener('fetch', event => {
            event.respondWith(
                caches.match(event.request).then(response => {
                    return response || fetch(event.request);
                })
            );
        });
    `;
    const blob = new Blob([swCode], { type: 'application/javascript' });
    return URL.createObjectURL(blob);
}

// æ˜¾ç¤ºå®‰è£…æŒ‰é’®
function showInstallButton() {
    // å¦‚æœå·²ç»åœ¨ä¸»å±å¹•ï¼Œä¸æ˜¾ç¤º
    if (window.matchMedia('(display-mode: standalone)').matches) return;
    
    const installBtn = document.createElement('div');
    installBtn.innerHTML = 'ğŸ“±';
    installBtn.style.cssText = `
        position: fixed;
        left: 15px;
        bottom: 100px;
        width: 45px;
        height: 45px;
        background: #4CAF50;
        color: #fff;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 22px;
        box-shadow: 0 4px 12px rgba(76,175,80,0.4);
        cursor: pointer;
        z-index: 200;
        animation: pulse 2s infinite;
    `;
    installBtn.title = 'æ·»åŠ åˆ°ä¸»å±å¹•';
    installBtn.onclick = installApp;
    document.body.appendChild(installBtn);
    
    // æ·»åŠ è„‰å†²åŠ¨ç”»
    const style = document.createElement('style');
    style.textContent = `
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
    `;
    document.head.appendChild(style);
}

function installApp() {
    if (!window.deferredPrompt) {
        alert('ğŸ“± è¯·ç‚¹å‡»æµè§ˆå™¨èœå•ä¸­çš„"æ·»åŠ åˆ°ä¸»å±å¹•"é€‰é¡¹ï¼');
        return;
    }
    
    window.deferredPrompt.prompt();
    window.deferredPrompt.userChoice.then((choiceResult) => {
        if (choiceResult.outcome === 'accepted') {
            console.log('ç”¨æˆ·æ¥å—äº†å®‰è£…');
        }
        window.deferredPrompt = null;
    });
}

setInterval(() => { if(isEditMode) autoSave(); }, 5000);
</script>


<div title="æ·»åŠ åˆ°ä¸»å±å¹•" style="position: fixed; left: 15px; bottom: 100px; width: 45px; height: 45px; background: rgb(76, 175, 80); color: rgb(255, 255, 255); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; box-shadow: rgba(76, 175, 80, 0.4) 0px 4px 12px; cursor: pointer; z-index: 200; animation: 2s ease 0s infinite normal none running pulse;">ğŸ“±</div></body></html>
